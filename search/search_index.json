{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"spacecadet","text":"<p>An MCP server that gives AI assistants reliable task management through Emacs org-mode.</p>"},{"location":"#why","title":"Why?","text":"<p>LLMs are unreliable at tracking tasks in conversation context. They lose count, forget deadlines, and hallucinate state. Spacecadet solves this by delegating task storage and retrieval to org-mode -- a deterministic, structured system with 100% accuracy.</p>"},{"location":"#what-it-does","title":"What it does","text":"<p>Spacecadet exposes 14 MCP tools that let any AI assistant:</p> <ul> <li>Create, update, delete, and list tasks with priorities, tags, deadlines, and scheduled dates</li> <li>Search and query using org-mode's full match syntax</li> <li>Track time with clock-in/clock-out and reporting</li> <li>Organize with notes, custom properties, and refiling</li> </ul> <p>Every task gets a unique ID for reliable programmatic access.</p>"},{"location":"#quick-start","title":"Quick start","text":"<pre><code>git clone https://github.com/jamesdp3/spacecadet.git\ncd spacecadet\n./setup.sh\n</code></pre> <p>Then configure your MCP client -- see Getting Started for details.</p>"},{"location":"#how-it-works","title":"How it works","text":"<pre><code>AI Client (Claude Desktop, Claude Code, etc.)\n    |  MCP protocol (stdio)\n    v\nserver.py  (Python, FastMCP)\n    |  emacsclient --eval\n    v\nEmacs daemon  (persistent, started on first request)\n    |  org-mode API\n    v\n~/spacecadet-tasks/*.org  (plain text)\n</code></pre> <p>A dedicated Emacs daemon starts on the first request and stays running for fast subsequent calls. Tasks are stored as plain <code>.org</code> text files -- point them at a cloud-synced folder (iCloud, Dropbox, etc.) to access from any machine. No interference with your personal Emacs setup. See Architecture for the full picture.</p>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#system-overview","title":"System overview","text":"<pre><code>AI Client (Claude Desktop, Claude Code, etc.)\n    |\n    |  MCP protocol (stdio, JSON-RPC)\n    |\n    v\nserver.py  (Python 3.10+, FastMCP)\n    |\n    |  emacsclient --eval \"(progn (setenv ...) (fn ...))\"\n    |  user data passed via (setenv ...) calls\n    |\n    v\nEmacs daemon  (persistent, started on first request)\n    |\n    |  org-mode API: read/write/search\n    |\n    v\n~/spacecadet-tasks/*.org  (plain text org files)\n</code></pre>"},{"location":"architecture/#components","title":"Components","text":""},{"location":"architecture/#serverpy-mcp-server","title":"server.py -- MCP server","text":"<p>The Python layer handles:</p> <ul> <li>MCP protocol via FastMCP (stdio transport)</li> <li>Tool definitions with parameter validation and docstrings</li> <li>Input sanitization -- path traversal prevention, query character filtering</li> <li>Environment variable injection -- user data is passed via <code>(setenv ...)</code> calls, never inlined into elisp expressions</li> <li>File locking -- <code>fcntl</code> advisory locks prevent concurrent write corruption (Unix only)</li> <li>Daemon lifecycle -- starts an Emacs daemon on first request, shuts it down on exit via <code>atexit</code></li> <li>Configuration -- resolves org directory from env var, config file, or default</li> </ul>"},{"location":"architecture/#emacs-configinitel-elisp-backend","title":"emacs-config/init.el -- Elisp backend","text":"<p>The Emacs layer handles:</p> <ul> <li>Org-mode configuration -- TODO states, priorities, logging, agenda settings</li> <li>Task CRUD -- creating, reading, updating, deleting org headings</li> <li>Task lookup -- by heading (exact match) or by org-id (UUID)</li> <li>Agenda and search -- date-based views and org-mode match queries</li> <li>Clocking -- time tracking with CLOCK entries in LOGBOOK drawers</li> <li>JSON output -- all responses are JSON-encoded for server.py to parse</li> </ul>"},{"location":"architecture/#org-files-data-storage","title":"Org files -- Data storage","text":"<p>Plain text org-mode files stored in the configured org directory (default: <code>~/spacecadet-tasks/</code>). The default file is <code>tasks.org</code>. Tasks can span multiple files by using the <code>file</code> parameter in <code>add_task</code> or pointing <code>SPACECADET_ORG_DIR</code> at a directory with multiple <code>.org</code> files.</p> <p>Since org files are plain text, they work with any file-syncing service (iCloud, Dropbox, Google Drive, OneDrive, Syncthing) for cross-machine access.</p>"},{"location":"architecture/#security-model","title":"Security model","text":""},{"location":"architecture/#input-injection-prevention","title":"Input injection prevention","text":"<p>User-supplied data (task headings, notes, property values) is passed to Emacs via environment variables (<code>SC_HEADING</code>, <code>SC_NOTE</code>, etc.), never inlined into elisp expressions. The elisp code reads these with <code>(getenv \"SC_HEADING\")</code>.</p> <p>This prevents injection attacks where a malicious heading like <code>\") (delete-file \"/etc/passwd\") (\"</code> could execute arbitrary elisp.</p>"},{"location":"architecture/#path-traversal-prevention","title":"Path traversal prevention","text":"<p>The <code>file</code> and <code>target_file</code> parameters are validated by <code>validate_org_path()</code> in server.py. It resolves the candidate path and checks that it falls within <code>ORG_DIR</code> using <code>Path.relative_to()</code>. Attempts to escape with <code>../</code> or absolute paths are rejected.</p>"},{"location":"architecture/#query-sanitization","title":"Query sanitization","text":"<p>Org-mode match queries in <code>list_tasks</code> and <code>search_tasks</code> are filtered to allow only alphanumeric characters and a small set of operators (<code>+</code>, <code>-</code>, <code>_</code>, <code>/</code>, <code>=</code>).</p>"},{"location":"architecture/#daemon-architecture","title":"Daemon architecture","text":"<p>On the first tool call, spacecadet starts a dedicated Emacs daemon:</p> <pre><code>emacs --daemon=spacecadet-{pid} -Q --load init.el\n</code></pre> <p>The flags mean:</p> <ul> <li><code>--daemon=spacecadet-{pid}</code> -- run as a named daemon (unique per server process)</li> <li><code>-Q</code> -- ignore the user's <code>~/.emacs</code>, <code>~/.emacs.d/init.el</code>, and site-start files</li> <li><code>--load init.el</code> -- load only the spacecadet configuration</li> </ul> <p>Subsequent tool calls use <code>emacsclient --socket-name=spacecadet-{pid} --eval \"...\"</code> to evaluate elisp against the running daemon. This avoids the ~4 second startup cost of <code>emacs --batch</code> on each call, keeping response times under 500ms.</p> <p>The daemon is isolated from the user's personal Emacs setup and runs with its own socket. It is shut down automatically when the server exits via an <code>atexit</code> handler.</p> <p>Before each evaluation, all <code>SC_*</code> environment variables are cleared and re-set to prevent data leaking between calls. Org-mode buffers are also refreshed to ensure the daemon reads the latest file contents from disk.</p>"},{"location":"architecture/#file-locking","title":"File locking","text":"<p>On Unix systems, write operations acquire an advisory lock on <code>.spacecadet.lock</code> via <code>fcntl.flock()</code>. This prevents corruption if two MCP tool calls try to write simultaneously. The lock is released when the subprocess completes.</p> <p>On Windows (without WSL), file locking is skipped. This is acceptable for single-client usage but means concurrent writes are not protected.</p>"},{"location":"development/","title":"Development","text":""},{"location":"development/#project-structure","title":"Project structure","text":"<pre><code>spacecadet/\n\u251c\u2500\u2500 server.py              # MCP server (Python, FastMCP)\n\u251c\u2500\u2500 emacs-config/\n\u2502   \u2514\u2500\u2500 init.el            # Elisp backend (org-mode operations)\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 test_path_validation.py   # Unit tests (no emacs required)\n\u2502   \u2514\u2500\u2500 test_integration.py       # Integration tests (requires emacs)\n\u251c\u2500\u2500 docs/                  # Documentation source (MkDocs)\n\u251c\u2500\u2500 mkdocs.yml             # MkDocs configuration\n\u251c\u2500\u2500 pyproject.toml         # Python project metadata\n\u251c\u2500\u2500 requirements.txt       # Python dependencies\n\u251c\u2500\u2500 setup.sh               # Setup script\n\u251c\u2500\u2500 .spacecadet.conf       # Auto-generated: path to org directory (gitignored)\n\u251c\u2500\u2500 LICENSE                # MIT license\n\u2514\u2500\u2500 README.md\n</code></pre> <p>Task data is stored outside the repo (default: <code>~/spacecadet-tasks/</code>). See Getting Started for configuration.</p>"},{"location":"development/#running-tests","title":"Running tests","text":"<p>Install dev dependencies and run:</p> <pre><code>pip install -e \".[dev]\"\npytest\n</code></pre>"},{"location":"development/#test-categories","title":"Test categories","text":"<p>Unit tests (<code>tests/test_path_validation.py</code>):</p> <ul> <li>Path traversal validation</li> <li>Task environment variable builder</li> <li>No external dependencies -- runs anywhere with Python</li> </ul> <p>Integration tests (<code>tests/test_integration.py</code>):</p> <ul> <li>Full tool operations: add, get, list, update, delete, refile, notes, properties</li> <li>ID-based and heading-based lookup</li> <li>Path traversal rejection end-to-end</li> <li>Requires emacs -- automatically skipped if emacs is not in PATH</li> <li>Each test uses an isolated temporary org directory</li> </ul> <p>Run only unit tests:</p> <pre><code>pytest tests/test_path_validation.py\n</code></pre> <p>Run only integration tests:</p> <pre><code>pytest tests/test_integration.py\n</code></pre>"},{"location":"development/#adding-a-new-tool","title":"Adding a new tool","text":"<ol> <li> <p>Define the elisp function in <code>emacs-config/init.el</code>:</p> <ul> <li>Read parameters from environment variables using <code>(spacecadet--env \"SC_PARAM\")</code></li> <li>Use <code>spacecadet--find-task-smart</code> for task lookup (supports both ID and heading)</li> <li>Output JSON via <code>(princ (json-encode ...))</code></li> <li>Call <code>(save-buffer)</code> after writes</li> </ul> </li> <li> <p>Define the MCP tool in <code>server.py</code>:</p> <ul> <li>Add <code>@mcp.tool()</code> decorated function</li> <li>For task-targeting tools, accept both <code>id</code> and <code>heading</code> parameters</li> <li>Use <code>_task_env(id, heading)</code> to build the environment dict</li> <li>Pass user data via <code>extra_env</code>, never inline in elisp strings</li> <li>Set <code>write=True</code> in <code>run_emacs()</code> for write operations (enables file locking)</li> </ul> </li> <li> <p>Add tests in <code>tests/test_integration.py</code>:</p> <ul> <li>Use the <code>org_dir</code> fixture for an isolated test environment</li> <li>Test both success and error cases</li> </ul> </li> </ol>"},{"location":"development/#building-docs","title":"Building docs","text":"<pre><code>pip install mkdocs mkdocs-material\nmkdocs serve        # local preview at http://127.0.0.1:8000\nmkdocs gh-deploy    # deploy to GitHub Pages\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Emacs -- any recent version with built-in org-mode</li> <li>Python 3.10+</li> <li>Linux or macOS -- Windows works under WSL; native Windows has no file locking</li> </ul>"},{"location":"getting-started/#installing-emacs","title":"Installing Emacs","text":"<p>Org-mode ships with Emacs, so there's nothing extra to install beyond Emacs itself.</p> <p>macOS:</p> <pre><code>brew install emacs\n</code></pre> <p>Ubuntu / Debian / WSL:</p> <pre><code>sudo apt install emacs-nox\n</code></pre> <p>Fedora:</p> <pre><code>sudo dnf install emacs-nox\n</code></pre> <p>Arch:</p> <pre><code>sudo pacman -S emacs-nox\n</code></pre> <p>The <code>-nox</code> variant is recommended since spacecadet doesn't need a GUI.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>git clone https://github.com/jamesdp3/spacecadet.git\ncd spacecadet\n./setup.sh\n</code></pre> <p>The setup script:</p> <ol> <li>Checks that <code>emacs</code> and <code>python3</code> are in your PATH</li> <li>Installs the <code>mcp</code> Python package</li> <li>Verifies the Emacs configuration loads correctly</li> <li>Prints configuration instructions</li> </ol>"},{"location":"getting-started/#configuration","title":"Configuration","text":""},{"location":"getting-started/#claude-desktop","title":"Claude Desktop","text":"<p>Add to your MCP settings file (<code>~/.config/claude/claude_desktop_config.json</code>):</p> <pre><code>{\n  \"mcpServers\": {\n    \"spacecadet\": {\n      \"command\": \"python3\",\n      \"args\": [\"/path/to/spacecadet/server.py\"]\n    }\n  }\n}\n</code></pre> <p>Replace <code>/path/to/spacecadet</code> with the actual path where you cloned the repo.</p>"},{"location":"getting-started/#claude-code","title":"Claude Code","text":"<pre><code>claude mcp add spacecadet python3 /path/to/spacecadet/server.py\n</code></pre>"},{"location":"getting-started/#task-storage","title":"Task storage","text":"<p>On first run, spacecadet automatically creates <code>~/spacecadet-tasks/tasks.org</code> and saves this path to <code>.spacecadet.conf</code> (in the project root). Tasks persist across restarts.</p> <p>The directory is resolved in this order:</p> <ol> <li><code>SPACECADET_ORG_DIR</code> environment variable -- highest priority</li> <li><code>.spacecadet.conf</code> file -- persisted from previous run</li> <li><code>~/spacecadet-tasks/</code> -- default on first run</li> </ol>"},{"location":"getting-started/#using-a-custom-directory","title":"Using a custom directory","text":"<p>To use an existing org directory (e.g. your personal org-mode files):</p> <pre><code>export SPACECADET_ORG_DIR=~/org\n</code></pre> <p>Or pass it in your MCP client config:</p> <pre><code>{\n  \"mcpServers\": {\n    \"spacecadet\": {\n      \"command\": \"python3\",\n      \"args\": [\"/path/to/spacecadet/server.py\"],\n      \"env\": {\n        \"SPACECADET_ORG_DIR\": \"/home/you/org\"\n      }\n    }\n  }\n}\n</code></pre> <p>You can also edit <code>.spacecadet.conf</code> directly -- it contains a single line with the absolute path to the org directory.</p>"},{"location":"getting-started/#cloud-sync","title":"Cloud sync","text":"<p>Point <code>SPACECADET_ORG_DIR</code> at a cloud-synced folder to access your tasks from any machine:</p> Service Example path iCloud <code>~/Library/Mobile Documents/com~apple~CloudDocs/org</code> Dropbox <code>~/Dropbox/org</code> Google Drive <code>~/Google Drive/My Drive/org</code> OneDrive <code>~/OneDrive/org</code> Syncthing <code>~/Sync/org</code> <p>Since tasks are plain <code>.org</code> text files, any file-syncing service works. If you already use org-mode, point spacecadet at your existing org directory and it will read your files directly.</p> <p>Multiple machines</p> <p>Install spacecadet on each machine and set <code>SPACECADET_ORG_DIR</code> to the same synced folder. Each instance runs its own Emacs daemon independently -- there are no server-side dependencies or databases to coordinate.</p>"},{"location":"getting-started/#task-states","title":"Task states","text":"<p>Tasks follow this workflow:</p> <pre><code>TODO -&gt; NEXT -&gt; WAITING -&gt; DONE\n                        -&gt; CANCELLED\n</code></pre>"},{"location":"getting-started/#priorities","title":"Priorities","text":"Priority Meaning A Highest priority B High priority C Default priority D Low priority"},{"location":"task-ids/","title":"Task IDs","text":""},{"location":"task-ids/#overview","title":"Overview","text":"<p>Every task created through spacecadet is automatically assigned a UUID. This ID is stored as an org-mode <code>ID</code> property in the task's property drawer and is returned in all API responses.</p>"},{"location":"task-ids/#why-ids","title":"Why IDs?","text":"<p>Heading-based lookup has problems:</p> <ul> <li>Ambiguity -- two tasks can have the same heading. Heading lookup matches the first one found.</li> <li>Fragility -- if the AI slightly misremembers a heading (wrong capitalization, missing word), the lookup fails.</li> <li>Renaming -- if a heading is edited outside spacecadet, heading-based references break.</li> </ul> <p>IDs solve all of these. They're unique, immutable, and independent of the heading text.</p>"},{"location":"task-ids/#how-it-works","title":"How it works","text":"<p>When you call <code>add_task</code>, spacecadet:</p> <ol> <li>Creates the org heading</li> <li>Calls <code>org-id-get-create</code> to generate a UUID</li> <li>Stores it in a <code>:PROPERTIES:</code> drawer</li> <li>Returns the ID in the response</li> </ol> <p>The resulting org entry looks like:</p> <pre><code>* TODO Write API docs                                        :work:docs:\n  :PROPERTIES:\n  :ID:       a1b2c3d4-e5f6-7890-abcd-ef1234567890\n  :END:\n</code></pre>"},{"location":"task-ids/#using-ids","title":"Using IDs","text":"<p>All tools that operate on a specific task accept both <code>id</code> and <code>heading</code>:</p> <pre><code>{\"id\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"}\n</code></pre> <p>or:</p> <pre><code>{\"heading\": \"Write API docs\"}\n</code></pre> <p>When both are provided, <code>id</code> takes precedence. When neither is provided, the tool returns an error.</p>"},{"location":"task-ids/#ids-in-list-responses","title":"IDs in list responses","text":"<p><code>list_tasks</code> and <code>search_tasks</code> (JSON mode) include the <code>id</code> field for every task:</p> <pre><code>[\n  {\n    \"id\": \"a1b2c3d4-...\",\n    \"heading\": \"Write API docs\",\n    \"todo\": \"TODO\",\n    ...\n  }\n]\n</code></pre>"},{"location":"task-ids/#recommended-workflow","title":"Recommended workflow","text":"<ol> <li>Call <code>add_task</code> -- save the returned <code>id</code></li> <li>Use <code>id</code> for all subsequent operations on that task</li> <li>Use <code>heading</code> only as a fallback when you don't have the ID (e.g. for tasks created outside spacecadet)</li> </ol>"},{"location":"tools/","title":"Tool Reference","text":"<p>All tools that operate on a specific task accept either <code>id</code> (preferred) or <code>heading</code> to identify the target. See Task IDs for details.</p>"},{"location":"tools/#task-crud","title":"Task CRUD","text":""},{"location":"tools/#add_task","title":"add_task","text":"<p>Create a new task. Returns the auto-assigned task ID.</p> Parameter Type Required Description <code>heading</code> string yes The task title <code>priority</code> string no Priority letter: A, B, C, or D <code>tags</code> string no Comma-separated tags, e.g. <code>\"work,urgent\"</code> <code>deadline</code> string no Deadline date in <code>YYYY-MM-DD</code> format <code>scheduled</code> string no Scheduled date in <code>YYYY-MM-DD</code> format <code>state</code> string no Initial TODO state: <code>TODO</code>, <code>NEXT</code>, <code>WAITING</code> (default: <code>TODO</code>) <code>file</code> string no Target org filename, e.g. <code>\"projects.org\"</code> (default: <code>tasks.org</code>) <p>Example response:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"id\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\",\n  \"heading\": \"Write API docs\",\n  \"todo\": \"TODO\",\n  \"file\": \"/home/user/spacecadet/tasks/tasks.org\"\n}\n</code></pre>"},{"location":"tools/#update_task","title":"update_task","text":"<p>Update an existing task's state, priority, or deadline.</p> Parameter Type Required Description <code>heading</code> string no* The exact task heading <code>id</code> string no* The task's org-id <code>new_state</code> string no New state: <code>TODO</code>, <code>NEXT</code>, <code>WAITING</code>, <code>DONE</code>, <code>CANCELLED</code> <code>new_priority</code> string no New priority letter: A-D <code>new_deadline</code> string no New deadline in <code>YYYY-MM-DD</code> format <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"updated\": true}\n</code></pre>"},{"location":"tools/#delete_task","title":"delete_task","text":"<p>Remove a task from the org file.</p> Parameter Type Required Description <code>heading</code> string no* The exact task heading <code>id</code> string no* The task's org-id <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"deleted\": true}\n</code></pre>"},{"location":"tools/#list_tasks","title":"list_tasks","text":"<p>List tasks with optional filters. Returns a JSON array.</p> Parameter Type Required Description <code>state</code> string no Filter by state: <code>TODO</code>, <code>NEXT</code>, <code>WAITING</code>, <code>DONE</code> <code>priority</code> string no Filter by priority: A, B, C, D <code>tag</code> string no Filter by tag name <p>Example response:</p> <pre><code>[\n  {\n    \"id\": \"a1b2c3d4-...\",\n    \"heading\": \"Write API docs\",\n    \"todo\": \"TODO\",\n    \"priority\": \"A\",\n    \"deadline\": \"&lt;2026-02-15&gt;\",\n    \"scheduled\": null,\n    \"tags\": [\"work\", \"docs\"],\n    \"effort\": \"3:00\",\n    \"file\": \"/home/user/spacecadet/tasks/tasks.org\"\n  }\n]\n</code></pre>"},{"location":"tools/#get_task","title":"get_task","text":"<p>Get full details of a specific task, including body text.</p> Parameter Type Required Description <code>heading</code> string no* The exact task heading <code>id</code> string no* The task's org-id <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\n  \"id\": \"a1b2c3d4-...\",\n  \"heading\": \"Write API docs\",\n  \"todo\": \"TODO\",\n  \"priority\": \"A\",\n  \"deadline\": \"&lt;2026-02-15&gt;\",\n  \"scheduled\": null,\n  \"tags\": [\"work\", \"docs\"],\n  \"body\": \"LOGBOOK entries, notes, and any body text...\",\n  \"file\": \"/home/user/spacecadet/tasks/tasks.org\"\n}\n</code></pre>"},{"location":"tools/#querying","title":"Querying","text":""},{"location":"tools/#get_agenda","title":"get_agenda","text":"<p>Get the org-mode agenda view for a date or date range.</p> Parameter Type Required Description <code>date</code> string no Specific date in <code>YYYY-MM-DD</code> format (defaults to today) <code>range_start</code> string no Start of range in <code>YYYY-MM-DD</code> format <code>range_end</code> string no End of range in <code>YYYY-MM-DD</code> format <p>If <code>range_start</code> and <code>range_end</code> are both provided, returns the agenda for that range. Otherwise uses <code>date</code> (or today).</p>"},{"location":"tools/#search_tasks","title":"search_tasks","text":"<p>Search tasks using org-mode match syntax. Returns the agenda buffer output.</p> Parameter Type Required Description <code>query</code> string yes Org-mode match string <p>Query examples:</p> Query Meaning <code>+work</code> Tasks tagged <code>work</code> <code>+work+urgent</code> Tasks tagged both <code>work</code> AND <code>urgent</code> <code>+work-meetings</code> Tasks tagged <code>work</code> but NOT <code>meetings</code> <code>+work/TODO</code> <code>work</code> tasks in <code>TODO</code> state"},{"location":"tools/#time-tracking","title":"Time Tracking","text":""},{"location":"tools/#clock_in","title":"clock_in","text":"<p>Start the clock on a task.</p> Parameter Type Required Description <code>heading</code> string no* The exact task heading <code>id</code> string no* The task's org-id <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"clocked-in\": true, \"time\": \"2026-01-31 14:30:00\"}\n</code></pre>"},{"location":"tools/#clock_out","title":"clock_out","text":"<p>Stop the clock on the currently clocked task. Takes no parameters.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"clocked-out\": true, \"duration\": \"1:30\", \"time\": \"2026-01-31 16:00\"}\n</code></pre>"},{"location":"tools/#clock_report","title":"clock_report","text":"<p>Get a time report showing hours logged per task. Takes no parameters.</p> <p>Example response:</p> <pre><code>[\n  {\n    \"heading\": \"Write API docs\",\n    \"todo\": \"TODO\",\n    \"minutes\": 90,\n    \"formatted\": \"1:30\",\n    \"file\": \"/home/user/spacecadet/tasks/tasks.org\"\n  }\n]\n</code></pre>"},{"location":"tools/#organization","title":"Organization","text":""},{"location":"tools/#add_note","title":"add_note","text":"<p>Add a timestamped note to a task's LOGBOOK.</p> Parameter Type Required Description <code>note</code> string yes The note text to add <code>heading</code> string no* The exact task heading <code>id</code> string no* The task's org-id <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"note-added\": true}\n</code></pre>"},{"location":"tools/#set_property","title":"set_property","text":"<p>Set a custom property on a task.</p> Parameter Type Required Description <code>property</code> string yes Property name (e.g. <code>\"Effort\"</code>, <code>\"Assignee\"</code>, <code>\"URL\"</code>) <code>value</code> string yes Property value (e.g. <code>\"2:00\"</code>, <code>\"Alice\"</code>, <code>\"https://...\"</code>) <code>heading</code> string no* The exact task heading <code>id</code> string no* The task's org-id <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"property\": \"Effort\", \"value\": \"2:00\"}\n</code></pre>"},{"location":"tools/#refile_task","title":"refile_task","text":"<p>Move a task under a different heading or into a different file.</p> Parameter Type Required Description <code>target_heading</code> string yes The heading to refile under <code>heading</code> string no* The exact task heading to move <code>id</code> string no* The task's org-id <code>target_file</code> string no Specific org filename to refile into <p>*At least one of <code>id</code> or <code>heading</code> is required.</p> <p>Example response:</p> <pre><code>{\"status\": \"ok\", \"refiled-to\": \"Projects\"}\n</code></pre>"}]}